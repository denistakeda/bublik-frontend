<form name="registrationForm" novalidate ng-submit="registration()" ng-hide="loading">
    <legend>{{"widget.userRegistration.mainHeader"|glxLocalize}}</legend>


    <!--Email-->
    <div class="form-group has-feedback"
         ng-class="fieldClass(registrationForm.email.$dirty, registrationForm.email.$valid)">
        <label class="control-label" for="email">{{"widget.userRegistration.fields.login.label"|glxLocalize}}</label>
        <input type="email"
               placeholder="{{'widget.userRegistration.fields.login.label'|glxLocalize}}"
               name="email"
               ng-model="email"
               class="form-control"
               ng-model-options="{ updateOn: 'default blur', debounce: { default: 500, blur: 0 } }"
               glx-ensure-unique required/>

        <div ng-show="registrationForm.email.$dirty">
            <span class="glyphicon glyphicon-ok form-control-feedback" ng-show="registrationForm.email.$valid"></span>
            <span class="glyphicon glyphicon-remove form-control-feedback"
                  ng-show="registrationForm.email.$invalid"></span>
        </div>

        <div class="help-block " ng-show="registrationForm.email.$dirty && registrationForm.email.$invalid">
            <p ng-show="registrationForm.email.$error.required" class="text-danger">
                {{"widget.userRegistration.fields.login.emptyFieldError"|glxLocalize}}
            </p>

            <p ng-show="registrationForm.email.$error.email" class="text-danger">
                {{"widget.userRegistration.fields.login.incorrectEmailError"|glxLocalize}}
            </p>

            <p ng-show="registrationForm.email.$error.unique" class="text-danger">
                {{"widget.userRegistration.fields.login.alreadyExistError"|glxLocalize}}
            </p>
        </div>
    </div>

    <!--First Name-->
    <div class="form-group has-feedback"
         ng-class="fieldClass(registrationForm.firstName.$dirty, registrationForm.firstName.$valid)">
        <label class="control-label"
               for="firstName">{{'widget.userRegistration.fields.firstName.label'|glxLocalize}}</label>
        <input type="text"
               placeholder="{{'widget.userRegistration.fields.firstName.label'|glxLocalize}}"
               name="firstName"
               ng-model="firstName"
               ng-maxlength=50
               class="form-control"
               ng-model-options="{ updateOn: 'default blur', debounce: { default: 500, blur: 0 } }"
               required/>

        <div ng-show="registrationForm.firstName.$dirty">
            <span class="glyphicon glyphicon-ok form-control-feedback"
                  ng-show="registrationForm.firstName.$valid"></span>
            <span class="glyphicon glyphicon-remove form-control-feedback"
                  ng-show="registrationForm.firstName.$invalid"></span>
        </div>

        <div class="help-block " ng-show="registrationForm.firstName.$dirty && registrationForm.firstName.$invalid">
            <p ng-show="registrationForm.firstName.$error.required" class="text-danger">
                {{"widget.userRegistration.fields.firstName.emptyFieldError"|glxLocalize}}
            </p>

            <p ng-show="registrationForm.firstName.$error.maxlength" class="text-danger">
                {{"widget.userRegistration.fields.firstName.tooLongError"|glxLocalize}}
            </p>
        </div>
    </div>


    <!--Second Name-->
    <div class="form-group has-feedback"
         ng-class="fieldClass(registrationForm.lastName.$dirty, registrationForm.lastName.$valid)">
        <label class="control-label" for="lastName">{{'widget.userRegistration.fields.lastName.label'|glxLocalize}}</label>
        <input type="text"
               placeholder="{{'widget.userRegistration.fields.lastName.label'|glxLocalize}}"
               name="lastName"
               ng-model="lastName"
               ng-maxlength=50
               class="form-control"
               ng-model-options="{ updateOn: 'default blur', debounce: { default: 500, blur: 0 } }"
               required/>

        <div ng-show="registrationForm.lastName.$dirty">
            <span class="glyphicon glyphicon-ok form-control-feedback"
                  ng-show="registrationForm.lastName.$valid"></span>
            <span class="glyphicon glyphicon-remove form-control-feedback"
                  ng-show="registrationForm.lastName.$invalid"></span>
        </div>

        <div class="help-block " ng-show="registrationForm.lastName.$dirty && registrationForm.lastName.$invalid">
            <p ng-show="registrationForm.lastName.$error.required" class="text-danger">
                {{"widget.userRegistration.fields.lastName.emptyFieldError"|glxLocalize}}
            </p>

            <p ng-show="registrationForm.lastName.$error.maxlength" class="text-danger">
                {{"widget.userRegistration.fields.lastName.tooLongError"|glxLocalize}}
            </p>
        </div>
    </div>


    <!--Password-->
    <div class="form-group has-feedback"
         ng-class="fieldClass(registrationForm.password.$dirty, registrationForm.password.$valid)">
        <label class="control-label"
               for="password">{{'widget.userRegistration.fields.password.passwordLabel'|glxLocalize}}</label>
        <input type="password"
               placeholder="{{'widget.userRegistration.fields.password.passwordLabel'|glxLocalize}}"
               name="password"
               ng-model="password"
               ng-maxlength=50
               ng-minlength="6"
               class="form-control"
               ng-model-options="{ updateOn: 'default blur', debounce: { default: 500, blur: 0 } }"
               required/>

        <div ng-show="registrationForm.password.$dirty">
            <span class="glyphicon glyphicon-ok form-control-feedback"
                  ng-show="registrationForm.password.$valid"></span>
            <span class="glyphicon glyphicon-remove form-control-feedback"
                  ng-show="registrationForm.password.$invalid"></span>
        </div>

        <div class="help-block " ng-show="registrationForm.password.$dirty && registrationForm.password.$invalid">
            <p ng-show="registrationForm.password.$error.required" class="text-danger">
                {{"widget.userRegistration.fields.password.emptyFieldError"|glxLocalize}}
            </p>

            <p ng-show="registrationForm.password.$error.maxlength" class="text-danger">
                {{"widget.userRegistration.fields.password.tooLongPassword"|glxLocalize}}
            </p>

            <p ng-show="registrationForm.password.$error.minlength" class="text-danger">
                {{"widget.userRegistration.fields.password.tooShortPassword"|glxLocalize}}
            </p>
        </div>
    </div>


    <!--Password confirmation-->
    <div class="form-group has-feedback clearfix"
         ng-class="fieldClass(registrationForm.confirmPassword.$dirty, registrationForm.confirmPassword.$valid)">
        <label class="control-label" for="confirmPassword">{{'widget.userRegistration.fields.password.confirmLabel'|glxLocalize}}</label>
        <input type="password"
               placeholder="{{'widget.userRegistration.fields.password.confirmLabel'|glxLocalize}}"
               name="confirmPassword"
               ng-model="confirmPassword"
               class="form-control"
               glx-pw-check="password"
               ng-model-options="{ updateOn: 'default blur', debounce: { default: 500, blur: 0 } }"
               required/>

        <div ng-show="registrationForm.confirmPassword.$dirty">
            <span class="glyphicon glyphicon-ok form-control-feedback"
                  ng-show="registrationForm.confirmPassword.$valid"></span>
            <span class="glyphicon glyphicon-remove form-control-feedback"
                  ng-show="registrationForm.confirmPassword.$invalid"></span>
        </div>

        <div class="help-block "
             ng-show="registrationForm.confirmPassword.$dirty && registrationForm.confirmPassword.$invalid">
            <p ng-show="registrationForm.confirmPassword.$error.pwmatch" class="text-danger">
                {{"widget.userRegistration.fields.password.incorrectConfirmError"|glxLocalize}}
            </p>
        </div>
    </div>


    <!--Submit button-->
    <button type="submit" class="btn btn-default pull-right"
            ng-disabled="registrationForm.$invalid"
            ng-class="registrationForm.$valid?'btn-success':'btn-default'">
        {{"widget.userRegistration.fields.submitButton.caption"|glxLocalize}}
    </button>


</form>